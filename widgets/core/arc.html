<!DOCTYPE html>
<html class="writer-html5" lang="zh-CN" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Arc (lv_arc) &mdash; LVGL  文档</title>
      <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/custom.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/fontawesome.min.css" type="text/css" />
    <link rel="shortcut icon" href="../../_static/favicon.png"/>
    <link rel="canonical" href="https://docs.lvgl.io/0.0.1/widgets/core/arc.html" />
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/sphinx_highlight.js"></script>
        <script src="../../_static/translations.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="索引" href="../../genindex.html" />
    <link rel="search" title="搜索" href="../../search.html" />
 
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-78811084-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

	gtag('config', 'UA-78811084-3', { 'anonymize_ip': true });
</script>

</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html">
            
              <img src="../../_static/logo_lvgl.png" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                0.0.1
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="搜索文档" aria-label="搜索文档" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="导航菜单">
              <!-- Local TOC -->
              <div class="local-toc"><ul>
<li><a class="reference internal" href="#">Arc (lv_arc)</a><ul>
<li><a class="reference internal" href="#overview">Overview</a></li>
<li><a class="reference internal" href="#parts-and-styles">Parts and Styles</a></li>
<li><a class="reference internal" href="#usage">Usage</a><ul>
<li><a class="reference internal" href="#value-and-range">Value and range</a></li>
<li><a class="reference internal" href="#rotation">Rotation</a></li>
<li><a class="reference internal" href="#mode">Mode</a></li>
<li><a class="reference internal" href="#change-rate">Change rate</a></li>
<li><a class="reference internal" href="#setting-the-indicator-manually">Setting the indicator manually</a></li>
<li><a class="reference internal" href="#advanced-hit-test">Advanced hit test</a></li>
</ul>
</li>
<li><a class="reference internal" href="#events">Events</a></li>
<li><a class="reference internal" href="#keys">Keys</a></li>
<li><a class="reference internal" href="#example">Example</a></li>
<li><a class="reference internal" href="#api">API</a></li>
</ul>
</li>
</ul>
</div>
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="移动版导航菜单" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">LVGL</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="页面导航">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Arc (lv_arc)</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/widgets/core/arc.md.txt" rel="nofollow"> 查看页面源码</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="highlight-eval_rst notranslate"><div class="highlight"><pre><span></span>.. include:: /header.rst 
:github_url: |github_link_base|/widgets/core/arc.md
</pre></div>
</div>
<section class="tex2jax_ignore mathjax_ignore" id="arc-lv-arc">
<h1>Arc (lv_arc)<a class="headerlink" href="#arc-lv-arc" title="此标题的永久链接"></a></h1>
<section id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="此标题的永久链接"></a></h2>
<p>The Arc consists of a background and a foreground arc. The foreground (indicator) can be touch-adjusted.</p>
</section>
<section id="parts-and-styles">
<h2>Parts and Styles<a class="headerlink" href="#parts-and-styles" title="此标题的永久链接"></a></h2>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">LV_PART_MAIN</span></code>  Draws a background using the typical background style properties and an arc using the arc style properties. The arc's size and position will respect the <em>padding</em> style properties.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">LV_PART_INDICATOR</span></code> Draws another arc using the <em>arc</em> style properties. Its padding values are interpreted relative to the background arc.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">LV_PART_KNOB</span></code> Draws a handle on the end of the indicator using all background properties and padding values. With zero padding the knob size is the same as the indicator's width.
Larger padding makes it larger, smaller padding makes it smaller.</p></li>
</ul>
</section>
<section id="usage">
<h2>Usage<a class="headerlink" href="#usage" title="此标题的永久链接"></a></h2>
<section id="value-and-range">
<h3>Value and range<a class="headerlink" href="#value-and-range" title="此标题的永久链接"></a></h3>
<p>A new value can be set using <code class="docutils literal notranslate"><span class="pre">lv_arc_set_value(arc,</span> <span class="pre">new_value)</span></code>.
The value is interpreted in a range (minimum and maximum values) which can be modified with <code class="docutils literal notranslate"><span class="pre">lv_arc_set_range(arc,</span> <span class="pre">min,</span> <span class="pre">max)</span></code>.
The default range is 0..100.</p>
<p>The indicator arc is drawn on the main part's arc. This if the value is set to maximum the indicator arc will cover the entire &quot;background&quot; arc.
To set the start and end angle of the background arc use the <code class="docutils literal notranslate"><span class="pre">lv_arc_set_bg_angles(arc,</span> <span class="pre">start_angle,</span> <span class="pre">end_angle)</span></code> functions or <code class="docutils literal notranslate"><span class="pre">lv_arc_set_bg_start/end_angle(arc,</span> <span class="pre">angle)</span></code>.</p>
<p>Zero degrees is at the middle right (3 o'clock) of the object and the degrees are increasing in clockwise direction.
The angles should be in the [0;360] range.</p>
</section>
<section id="rotation">
<h3>Rotation<a class="headerlink" href="#rotation" title="此标题的永久链接"></a></h3>
<p>An offset to the 0 degree position can be added with <code class="docutils literal notranslate"><span class="pre">lv_arc_set_rotation(arc,</span> <span class="pre">deg)</span></code>.</p>
</section>
<section id="mode">
<h3>Mode<a class="headerlink" href="#mode" title="此标题的永久链接"></a></h3>
<p>The arc can be one of the following modes:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">LV_ARC_MODE_NORMAL</span></code> The indicator arc is drawn from the minimum value to the current.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">LV_ARC_MODE_REVERSE</span></code> The indicator arc is drawn counter-clockwise from the maximum value to the current.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">LV_ARC_MODE_SYMMETRICAL</span></code> The indicator arc is drawn from the middle point to the current value.</p></li>
</ul>
<p>The mode can be set by <code class="docutils literal notranslate"><span class="pre">lv_arc_set_mode(arc,</span> <span class="pre">LV_ARC_MODE_...)</span></code> and used only if the angle is set by <code class="docutils literal notranslate"><span class="pre">lv_arc_set_value()</span></code> or the arc is adjusted by finger.</p>
</section>
<section id="change-rate">
<h3>Change rate<a class="headerlink" href="#change-rate" title="此标题的永久链接"></a></h3>
<p>If the arc is pressed the current value will set with a limited speed according to the set <em>change rate</em>.
The change rate is defined in degree/second unit and can be set with <code class="docutils literal notranslate"><span class="pre">lv_arc_set_change_rage(arc,</span> <span class="pre">rate)</span></code></p>
</section>
<section id="setting-the-indicator-manually">
<h3>Setting the indicator manually<a class="headerlink" href="#setting-the-indicator-manually" title="此标题的永久链接"></a></h3>
<p>It's also possible to set the angles of the indicator arc directly with <code class="docutils literal notranslate"><span class="pre">lv_arc_set_angles(arc,</span> <span class="pre">start_angle,</span> <span class="pre">end_angle)</span></code> function or <code class="docutils literal notranslate"><span class="pre">lv_arc_set_start/end_angle(arc,</span> <span class="pre">start_angle)</span></code>.
In this case the set &quot;value&quot; and &quot;mode&quot; are ignored.</p>
<p>In other words, the angle and value settings are independent. You should exclusively use one or the other. Mixing the two might result in unintended behavior.</p>
<p>To make the arc non-adjustable, remove the style of the knob and make the object non-clickable:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">lv_obj_remove_style</span><span class="p">(</span><span class="n">arc</span><span class="p">,</span><span class="w"> </span><span class="nb">NULL</span><span class="p">,</span><span class="w"> </span><span class="n">LV_PART_KNOB</span><span class="p">);</span>
<span class="n">lv_obj_clear_flag</span><span class="p">(</span><span class="n">arc</span><span class="p">,</span><span class="w"> </span><span class="n">LV_OBJ_FLAG_CLICKABLE</span><span class="p">);</span>
</pre></div>
</div>
</section>
<section id="advanced-hit-test">
<h3>Advanced hit test<a class="headerlink" href="#advanced-hit-test" title="此标题的永久链接"></a></h3>
<p>If the <code class="docutils literal notranslate"><span class="pre">LV_OBJ_FLAG_ADV_HITTEST</span></code> flag is enabled the arc can be clicked through in the middle. Clicks are recognized only on the ring of the background arc. <code class="docutils literal notranslate"><span class="pre">lv_obj_set_ext_click_size()</span></code> makes the sensitive area larger inside and outside with the given number of pixels.</p>
</section>
</section>
<section id="events">
<h2>Events<a class="headerlink" href="#events" title="此标题的永久链接"></a></h2>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">LV_EVENT_VALUE_CHANGED</span></code> sent when the arc is pressed/dragged to set a new value.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">LV_EVENT_DRAW_PART_BEGIN</span></code> and <code class="docutils literal notranslate"><span class="pre">LV_EVENT_DRAW_PART_END</span></code> are sent with the following types:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">LV_ARC_DRAW_PART_BACKGROUND</span></code> The background arc.</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">part</span></code>: <code class="docutils literal notranslate"><span class="pre">LV_PART_MAIN</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">p1</span></code>: center of the arc</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">radius</span></code>: radius of the arc</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">arc_dsc</span></code></p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">LV_ARC_DRAW_PART_FOREGROUND</span></code> The foreground arc.</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">part</span></code>: <code class="docutils literal notranslate"><span class="pre">LV_PART_INDICATOR</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">p1</span></code>: center of the arc</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">radius</span></code>: radius of the arc</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">arc_dsc</span></code></p></li>
</ul>
</li>
<li><p>LV_ARC_DRAW_PART_KNOB The knob</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">part</span></code>: <code class="docutils literal notranslate"><span class="pre">LV_PART_KNOB</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">draw_area</span></code>: the area of the knob</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">rect_dsc</span></code>:</p></li>
</ul>
</li>
</ul>
</li>
</ul>
<p>See the events of the <a class="reference internal" href="../obj.html"><span class="doc std std-doc">Base object</span></a> too.</p>
<p>Learn more about <a class="reference internal" href="../../overview/event.html"><span class="doc std std-doc">Events</span></a>.</p>
</section>
<section id="keys">
<h2>Keys<a class="headerlink" href="#keys" title="此标题的永久链接"></a></h2>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">LV_KEY_RIGHT/UP</span></code> Increases the value by one.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">LV_KEY_LEFT/DOWN</span></code> Decreases the value by one.</p></li>
</ul>
<p>Learn more about <a class="reference internal" href="../../overview/indev.html"><span class="doc std std-doc">Keys</span></a>.</p>
</section>
<section id="example">
<h2>Example<a class="headerlink" href="#example" title="此标题的永久链接"></a></h2>
<div class="highlight-eval_rst notranslate"><div class="highlight"><pre><span></span>
.. include:: ../../../examples/widgets/arc/index.rst

</pre></div>
</div>
</section>
<section id="api">
<h2>API<a class="headerlink" href="#api" title="此标题的永久链接"></a></h2>
<div class="highlight-eval_rst notranslate"><div class="highlight"><pre><span></span>
.. doxygenfile:: lv_arc.h
  :project: lvgl

</pre></div>
</div>
</section>
</section>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; 版权所有 2021, LVGL Kft.
      <span class="lastupdated">最后更新于 2025 年 09 月 02 日.
      </span></p>
  </div>

  利用 <a href="https://www.sphinx-doc.org/">Sphinx</a> 构建，使用的 
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">主题</a>
    由 <a href="https://readthedocs.org">Read the Docs</a> 开发.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

<style>
  .wy-side-nav-search > div[role="search"] {
    color: black;
  }
</style>
 <script type="text/javascript">
    $(document).ready(function() {
        $(".toggle > *").hide();
        $(".toggle .header").show();
        $(".toggle .header").click(function() {
            $(this).parent().children().not(".header").toggle(400);
            $(this).parent().children(".header").toggleClass("open");
        })
    });
</script>

<script type="text/javascript">
function add_version_selector()
{
    return fetch("https://raw.githubusercontent.com/lvgl/docs_compiled/gh-pages/versionlist.txt")
        .then(res => res.text())
        .then(text => {
            const versions = text.split("\n").filter(version => version.trim().length > 0);
            let p = document.getElementById("rtd-search-form").parentElement;
            p.innerHTML = `
            <select name="versions" id="versions" onchange="ver_sel()" style="border-radius:5px; margin-bottom:15px">
            ${versions.map(version => {
                let versionName = "";  
                if(version == "master") versionName = "master (latest)";
                else versionName = "v" + ((version.indexOf(".") != -1) ? version : (version + " (latest minor)"));
                return `<option value="${version}">${versionName}</option>`;
            })}
            </select>` + p.innerHTML;
        });
}

function ver_sel()
{
  var x = document.getElementById("versions").value;
  window.location.href = window.location.protocol + "//" + window.location.host + "/" + x + "/";
}

document.addEventListener('DOMContentLoaded', (event) => {
    add_version_selector().then(() => {
        var value = window.location.pathname.split('/')[1];
        document.getElementById("versions").value = value;
    });
    
})
document.addEventListener('DOMContentLoaded', (event) => {
    function onIntersection(entries) {
        entries.forEach(entry => {
            let currentlyLoaded = entry.target.getAttribute("data-is-loaded") == "true";
            let shouldBeLoaded = entry.intersectionRatio > 0;
            if(currentlyLoaded != shouldBeLoaded) {
                entry.target.setAttribute("data-is-loaded", shouldBeLoaded);
                if(shouldBeLoaded) {
                    let iframe = document.createElement("iframe");
                    iframe.src = entry.target.getAttribute("data-real-src");
                    entry.target.appendChild(iframe);
                } else {
                    let iframe = entry.target.querySelector("iframe");
                    iframe.parentNode.removeChild(iframe);
                }
            }
        });
    }
    const config = {
        rootMargin: '600px 0px',
        threshold: 0.01
    };
    let observer = new IntersectionObserver(onIntersection, config);
    document.querySelectorAll(".lv-example").forEach(iframe => {
        observer.observe(iframe);
    });
});
</script>


</body>
</html>