<!DOCTYPE html>
<html class="writer-html5" lang="zh-CN" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Label (lv_label) &mdash; LVGL  文档</title>
      <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/custom.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/fontawesome.min.css" type="text/css" />
    <link rel="shortcut icon" href="../../_static/favicon.png"/>
    <link rel="canonical" href="https://docs.lvgl.io/0.0.1/widgets/core/label.html" />
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/sphinx_highlight.js"></script>
        <script src="../../_static/translations.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="索引" href="../../genindex.html" />
    <link rel="search" title="搜索" href="../../search.html" />
 
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-78811084-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

	gtag('config', 'UA-78811084-3', { 'anonymize_ip': true });
</script>

</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html">
            
              <img src="../../_static/logo_lvgl.png" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                0.0.1
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="搜索文档" aria-label="搜索文档" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="导航菜单">
              <!-- Local TOC -->
              <div class="local-toc"><ul>
<li><a class="reference internal" href="#">Label (lv_label)</a><ul>
<li><a class="reference internal" href="#overview">Overview</a></li>
<li><a class="reference internal" href="#parts-and-styles">Parts and Styles</a></li>
<li><a class="reference internal" href="#usage">Usage</a><ul>
<li><a class="reference internal" href="#set-text">Set text</a></li>
<li><a class="reference internal" href="#newline">Newline</a></li>
<li><a class="reference internal" href="#long-modes">Long modes</a></li>
<li><a class="reference internal" href="#text-recolor">Text recolor</a></li>
<li><a class="reference internal" href="#text-selection">Text selection</a></li>
<li><a class="reference internal" href="#very-long-texts">Very long texts</a></li>
<li><a class="reference internal" href="#symbols">Symbols</a></li>
</ul>
</li>
<li><a class="reference internal" href="#events">Events</a></li>
<li><a class="reference internal" href="#keys">Keys</a></li>
<li><a class="reference internal" href="#example">Example</a></li>
<li><a class="reference internal" href="#api">API</a></li>
</ul>
</li>
</ul>
</div>
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="移动版导航菜单" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">LVGL</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="页面导航">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Label (lv_label)</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/widgets/core/label.md.txt" rel="nofollow"> 查看页面源码</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="highlight-eval_rst notranslate"><div class="highlight"><pre><span></span>.. include:: /header.rst 
:github_url: |github_link_base|/widgets/core/core/label.md
</pre></div>
</div>
<section class="tex2jax_ignore mathjax_ignore" id="label-lv-label">
<h1>Label (lv_label)<a class="headerlink" href="#label-lv-label" title="此标题的永久链接"></a></h1>
<section id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="此标题的永久链接"></a></h2>
<p>A label is the basic object type that is used to display text.</p>
</section>
<section id="parts-and-styles">
<h2>Parts and Styles<a class="headerlink" href="#parts-and-styles" title="此标题的永久链接"></a></h2>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">LV_PART_MAIN</span></code>  Uses all the typical background properties and the text properties.  The padding values can be used to add space between the text and the background.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">LV_PART_SCROLLBAR</span></code> The scrollbar that is shown when the text is larger than the widget's size.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">LV_PART_SELECTED</span></code> Tells the style of the <span class="xref myst">selected text</span>. Only <code class="docutils literal notranslate"><span class="pre">text_color</span></code> and <code class="docutils literal notranslate"><span class="pre">bg_color</span></code> style properties can be used.</p></li>
</ul>
</section>
<section id="usage">
<h2>Usage<a class="headerlink" href="#usage" title="此标题的永久链接"></a></h2>
<section id="set-text">
<h3>Set text<a class="headerlink" href="#set-text" title="此标题的永久链接"></a></h3>
<p>You can set the text on a label at runtime with <code class="docutils literal notranslate"><span class="pre">lv_label_set_text(label,</span> <span class="pre">&quot;New</span> <span class="pre">text&quot;)</span></code>.
This will allocate a buffer dynamically, and the provided string will be copied into that buffer.
Therefore, you don't need to keep the text you pass to <code class="docutils literal notranslate"><span class="pre">lv_label_set_text</span></code> in scope after that function returns.</p>
<p>With <code class="docutils literal notranslate"><span class="pre">lv_label_set_text_fmt(label,</span> <span class="pre">&quot;Value:</span> <span class="pre">%d&quot;,</span> <span class="pre">15)</span></code> printf formatting can be used to set the text.</p>
<p>Labels are able to show text from a static character buffer.  To do so, use <code class="docutils literal notranslate"><span class="pre">lv_label_set_text_static(label,</span> <span class="pre">&quot;Text&quot;)</span></code>.
In this case, the text is not stored in the dynamic memory and the given buffer is used directly instead.
This means that the array can't be a local variable which goes out of scope when the function exits.
Constant strings are safe to use with <code class="docutils literal notranslate"><span class="pre">lv_label_set_text_static</span></code> (except when used with <code class="docutils literal notranslate"><span class="pre">LV_LABEL_LONG_DOT</span></code>, as it modifies the buffer in-place), as they are stored in ROM memory, which is always accessible.</p>
</section>
<section id="newline">
<h3>Newline<a class="headerlink" href="#newline" title="此标题的永久链接"></a></h3>
<p>Newline characters are handled automatically by the label object. You can use <code class="docutils literal notranslate"><span class="pre">\n</span></code> to make a line break. For example: <code class="docutils literal notranslate"><span class="pre">&quot;line1\nline2\n\nline4&quot;</span></code></p>
</section>
<section id="long-modes">
<h3>Long modes<a class="headerlink" href="#long-modes" title="此标题的永久链接"></a></h3>
<p>By default, the width and height of the label is set to <code class="docutils literal notranslate"><span class="pre">LV_SIZE_CONTENT</span></code>. Therefore, the size of the label is automatically expanded to the text size.
Otherwise, if the width or height are explicitly set (using  e.g.<code class="docutils literal notranslate"><span class="pre">lv_obj_set_width</span></code> or a layout), the lines wider than the label's width can be manipulated according to several long mode policies.
Similarly, the policies can be applied if the height of the text is greater than the height of the label.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">LV_LABEL_LONG_WRAP</span></code> Wrap too long lines. If the height is <code class="docutils literal notranslate"><span class="pre">LV_SIZE_CONTENT</span></code> the label's height will be expanded, otherwise the text will be clipped. (Default)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">LV_LABEL_LONG_DOT</span></code> Replaces the last 3 characters from bottom right corner of the label with dots (<code class="docutils literal notranslate"><span class="pre">.</span></code>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">LV_LABEL_LONG_SCROLL</span></code> If the text is wider than the label scroll it horizontally back and forth. If it's higher, scroll vertically. Only one direction is scrolled and horizontal scrolling has higher precedence.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">LV_LABEL_LONG_SCROLL_CIRCULAR</span></code> If the text is wider than the label scroll it horizontally continuously. If it's higher, scroll vertically. Only one direction is scrolled and horizontal scrolling has higher precedence.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">LV_LABEL_LONG_CLIP</span></code> Simply clip the parts of the text outside the label.</p></li>
</ul>
<p>You can specify the long mode with <code class="docutils literal notranslate"><span class="pre">lv_label_set_long_mode(label,</span> <span class="pre">LV_LABEL_LONG_...)</span></code></p>
<p>Note that <code class="docutils literal notranslate"><span class="pre">LV_LABEL_LONG_DOT</span></code> manipulates the text buffer in-place in order to add/remove the dots.<br />
When <code class="docutils literal notranslate"><span class="pre">lv_label_set_text</span></code> or <code class="docutils literal notranslate"><span class="pre">lv_label_set_array_text</span></code> are used, a separate buffer is allocated and this implementation detail is unnoticed.
This is not the case with <code class="docutils literal notranslate"><span class="pre">lv_label_set_text_static</span></code>. The buffer you pass to <code class="docutils literal notranslate"><span class="pre">lv_label_set_text_static</span></code> must be writable if you plan to use <code class="docutils literal notranslate"><span class="pre">LV_LABEL_LONG_DOT</span></code>.</p>
</section>
<section id="text-recolor">
<h3>Text recolor<a class="headerlink" href="#text-recolor" title="此标题的永久链接"></a></h3>
<p>In the text, you can use commands to recolor parts of the text. For example: <code class="docutils literal notranslate"><span class="pre">&quot;Write</span> <span class="pre">a</span> <span class="pre">#ff0000</span> <span class="pre">red#</span> <span class="pre">word&quot;</span></code>.
This feature can be enabled individually for each label by <code class="docutils literal notranslate"><span class="pre">lv_label_set_recolor()</span></code> function.</p>
</section>
<section id="text-selection">
<h3>Text selection<a class="headerlink" href="#text-selection" title="此标题的永久链接"></a></h3>
<p>If enabled by <code class="docutils literal notranslate"><span class="pre">LV_LABEL_TEXT_SELECTION</span></code> part of the text can be selected. It's similar to when you use your mouse on a PC to select a text.
The whole mechanism (click and select the text as you drag your finger/mouse) is implemented in <a class="reference internal" href="textarea.html"><span class="doc std std-doc">Text area</span></a> and the Label widget only allows manual text selection with
<code class="docutils literal notranslate"><span class="pre">lv_label_get_text_selection_start(label,</span> <span class="pre">start_char_index)</span></code> and <code class="docutils literal notranslate"><span class="pre">lv_label_get_text_selection_start(label,</span> <span class="pre">end_char_index)</span></code>.</p>
</section>
<section id="very-long-texts">
<h3>Very long texts<a class="headerlink" href="#very-long-texts" title="此标题的永久链接"></a></h3>
<p>LVGL can efficiently handle very long (e.g. &gt; 40k characters) labels by saving some extra data (~12 bytes) to speed up drawing. To enable this feature, set <code class="docutils literal notranslate"><span class="pre">LV_LABEL_LONG_TXT_HINT</span>&#160;&#160; <span class="pre">1</span></code> in <code class="docutils literal notranslate"><span class="pre">lv_conf.h</span></code>.</p>
</section>
<section id="symbols">
<h3>Symbols<a class="headerlink" href="#symbols" title="此标题的永久链接"></a></h3>
<p>The labels can display symbols alongside letters (or on their own). Read the <a class="reference internal" href="../../overview/font.html"><span class="doc std std-doc">Font</span></a> section to learn more about the symbols.</p>
</section>
</section>
<section id="events">
<h2>Events<a class="headerlink" href="#events" title="此标题的永久链接"></a></h2>
<p>No special events are sent by the Label.</p>
<p>See the events of the <a class="reference internal" href="../obj.html"><span class="doc std std-doc">Base object</span></a> too.</p>
<p>Learn more about <a class="reference internal" href="../../overview/event.html"><span class="doc std std-doc">Events</span></a>.</p>
</section>
<section id="keys">
<h2>Keys<a class="headerlink" href="#keys" title="此标题的永久链接"></a></h2>
<p>No <em>Keys</em> are processed by the object type.</p>
<p>Learn more about <a class="reference internal" href="../../overview/indev.html"><span class="doc std std-doc">Keys</span></a>.</p>
</section>
<section id="example">
<h2>Example<a class="headerlink" href="#example" title="此标题的永久链接"></a></h2>
<div class="highlight-eval_rst notranslate"><div class="highlight"><pre><span></span>
.. include:: ../../../examples/widgets/label/index.rst

</pre></div>
</div>
</section>
<section id="api">
<h2>API<a class="headerlink" href="#api" title="此标题的永久链接"></a></h2>
<div class="highlight-eval_rst notranslate"><div class="highlight"><pre><span></span>
.. doxygenfile:: lv_label.h
  :project: lvgl
        
</pre></div>
</div>
</section>
</section>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; 版权所有 2021, LVGL Kft.
      <span class="lastupdated">最后更新于 2025 年 09 月 02 日.
      </span></p>
  </div>

  利用 <a href="https://www.sphinx-doc.org/">Sphinx</a> 构建，使用的 
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">主题</a>
    由 <a href="https://readthedocs.org">Read the Docs</a> 开发.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

<style>
  .wy-side-nav-search > div[role="search"] {
    color: black;
  }
</style>
 <script type="text/javascript">
    $(document).ready(function() {
        $(".toggle > *").hide();
        $(".toggle .header").show();
        $(".toggle .header").click(function() {
            $(this).parent().children().not(".header").toggle(400);
            $(this).parent().children(".header").toggleClass("open");
        })
    });
</script>

<script type="text/javascript">
function add_version_selector()
{
    return fetch("https://raw.githubusercontent.com/lvgl/docs_compiled/gh-pages/versionlist.txt")
        .then(res => res.text())
        .then(text => {
            const versions = text.split("\n").filter(version => version.trim().length > 0);
            let p = document.getElementById("rtd-search-form").parentElement;
            p.innerHTML = `
            <select name="versions" id="versions" onchange="ver_sel()" style="border-radius:5px; margin-bottom:15px">
            ${versions.map(version => {
                let versionName = "";  
                if(version == "master") versionName = "master (latest)";
                else versionName = "v" + ((version.indexOf(".") != -1) ? version : (version + " (latest minor)"));
                return `<option value="${version}">${versionName}</option>`;
            })}
            </select>` + p.innerHTML;
        });
}

function ver_sel()
{
  var x = document.getElementById("versions").value;
  window.location.href = window.location.protocol + "//" + window.location.host + "/" + x + "/";
}

document.addEventListener('DOMContentLoaded', (event) => {
    add_version_selector().then(() => {
        var value = window.location.pathname.split('/')[1];
        document.getElementById("versions").value = value;
    });
    
})
document.addEventListener('DOMContentLoaded', (event) => {
    function onIntersection(entries) {
        entries.forEach(entry => {
            let currentlyLoaded = entry.target.getAttribute("data-is-loaded") == "true";
            let shouldBeLoaded = entry.intersectionRatio > 0;
            if(currentlyLoaded != shouldBeLoaded) {
                entry.target.setAttribute("data-is-loaded", shouldBeLoaded);
                if(shouldBeLoaded) {
                    let iframe = document.createElement("iframe");
                    iframe.src = entry.target.getAttribute("data-real-src");
                    entry.target.appendChild(iframe);
                } else {
                    let iframe = entry.target.querySelector("iframe");
                    iframe.parentNode.removeChild(iframe);
                }
            }
        });
    }
    const config = {
        rootMargin: '600px 0px',
        threshold: 0.01
    };
    let observer = new IntersectionObserver(onIntersection, config);
    document.querySelectorAll(".lv-example").forEach(iframe => {
        observer.observe(iframe);
    });
});
</script>


</body>
</html>