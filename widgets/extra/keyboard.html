<!DOCTYPE html>
<html class="writer-html5" lang="zh-CN" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Keyboard (lv_keyboard) &mdash; LVGL  文档</title>
      <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/custom.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/fontawesome.min.css" type="text/css" />
    <link rel="shortcut icon" href="../../_static/favicon.png"/>
    <link rel="canonical" href="https://docs.lvgl.io/0.0.1/widgets/extra/keyboard.html" />
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/sphinx_highlight.js"></script>
        <script src="../../_static/translations.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="索引" href="../../genindex.html" />
    <link rel="search" title="搜索" href="../../search.html" />
 
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-78811084-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

	gtag('config', 'UA-78811084-3', { 'anonymize_ip': true });
</script>

</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html">
            
              <img src="../../_static/logo_lvgl.png" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                0.0.1
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="搜索文档" aria-label="搜索文档" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="导航菜单">
              <!-- Local TOC -->
              <div class="local-toc"><ul>
<li><a class="reference internal" href="#">Keyboard (lv_keyboard)</a><ul>
<li><a class="reference internal" href="#overview">Overview</a></li>
<li><a class="reference internal" href="#parts-and-styles">Parts and Styles</a></li>
<li><a class="reference internal" href="#usage">Usage</a><ul>
<li><a class="reference internal" href="#modes">Modes</a></li>
<li><a class="reference internal" href="#assign-text-area">Assign Text area</a></li>
<li><a class="reference internal" href="#key-popovers">Key Popovers</a></li>
<li><a class="reference internal" href="#new-keymap">New Keymap</a></li>
</ul>
</li>
<li><a class="reference internal" href="#events">Events</a></li>
<li><a class="reference internal" href="#keys">Keys</a></li>
<li><a class="reference internal" href="#examples">Examples</a></li>
<li><a class="reference internal" href="#api">API</a></li>
</ul>
</li>
</ul>
</div>
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="移动版导航菜单" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">LVGL</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="页面导航">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Keyboard (lv_keyboard)</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/widgets/extra/keyboard.md.txt" rel="nofollow"> 查看页面源码</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="highlight-eval_rst notranslate"><div class="highlight"><pre><span></span>.. include:: /header.rst 
:github_url: |github_link_base|/widgets/extra/keyboard.md
</pre></div>
</div>
<section class="tex2jax_ignore mathjax_ignore" id="keyboard-lv-keyboard">
<h1>Keyboard (lv_keyboard)<a class="headerlink" href="#keyboard-lv-keyboard" title="此标题的永久链接"></a></h1>
<section id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="此标题的永久链接"></a></h2>
<p>The Keyboard object is a special <a class="reference internal" href="../core/btnmatrix.html"><span class="doc std std-doc">Button matrix</span></a> with predefined keymaps and other features to realize a virtual keyboard to write texts into a <a class="reference internal" href="../core/textarea.html"><span class="doc std std-doc">Text area</span></a>.</p>
</section>
<section id="parts-and-styles">
<h2>Parts and Styles<a class="headerlink" href="#parts-and-styles" title="此标题的永久链接"></a></h2>
<p>Similarly to Button matrices Keyboards consist of 2 part:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">LV_PART_MAIN</span></code> The main part. Uses all the typical background properties</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">LV_PART_ITEMS</span></code> The buttons. Also uses all typical background properties as well as the <em>text</em> properties.</p></li>
</ul>
</section>
<section id="usage">
<h2>Usage<a class="headerlink" href="#usage" title="此标题的永久链接"></a></h2>
<section id="modes">
<h3>Modes<a class="headerlink" href="#modes" title="此标题的永久链接"></a></h3>
<p>The Keyboards have the following modes:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">LV_KEYBOARD_MODE_TEXT_LOWER</span></code>  Display lower case letters</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">LV_KEYBOARD_MODE_TEXT_UPPER</span></code>  Display upper case letters</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">LV_KEYBOARD_MODE_TEXT_SPECIAL</span></code> Display special characters</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">LV_KEYBOARD_MODE_NUMBER</span></code> Display numbers, +/- sign, and decimal dot</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">LV_KEYBOARD_MODE_USER_1</span></code> through <code class="docutils literal notranslate"><span class="pre">LV_KEYBOARD_MODE_USER_4</span></code> User-defined modes.</p></li>
</ul>
<p>The <code class="docutils literal notranslate"><span class="pre">TEXT</span></code> modes' layout contains buttons to change mode.</p>
<p>To set the mode manually, use <code class="docutils literal notranslate"><span class="pre">lv_keyboard_set_mode(kb,</span> <span class="pre">mode)</span></code>. The default mode is  <code class="docutils literal notranslate"><span class="pre">LV_KEYBOARD_MODE_TEXT_UPPER</span></code>.</p>
</section>
<section id="assign-text-area">
<h3>Assign Text area<a class="headerlink" href="#assign-text-area" title="此标题的永久链接"></a></h3>
<p>You can assign a <a class="reference internal" href="../core/textarea.html"><span class="doc std std-doc">Text area</span></a> to the Keyboard to automatically put the clicked characters there.
To assign the text area, use <code class="docutils literal notranslate"><span class="pre">lv_keyboard_set_textarea(kb,</span> <span class="pre">ta)</span></code>.</p>
</section>
<section id="key-popovers">
<h3>Key Popovers<a class="headerlink" href="#key-popovers" title="此标题的永久链接"></a></h3>
<p>To enable key popovers on press, like on common Android and iOS keyboards, use <code class="docutils literal notranslate"><span class="pre">lv_keyboard_set_popovers(kb,</span> <span class="pre">true)</span></code>. The default control maps are preconfigured to only show the popovers on keys that produce a symbol and not on e.g. space. If you use a custom keymap, set the <code class="docutils literal notranslate"><span class="pre">LV_BTNMATRIX_CTRL_POPOVER</span></code> flag for all keys that you want to show a popover.</p>
<p>Note that popovers for keys in the top row will draw outside the widget boundaries. To account for this, reserve extra free space on top of the keyboard or ensure that the keyboard is added <em>after</em> any widgets adjacent to its top boundary so that the popovers can draw over those.</p>
<p>The popovers currently are merely a visual effect and don't allow selecting additional characters such as accents yet.</p>
</section>
<section id="new-keymap">
<h3>New Keymap<a class="headerlink" href="#new-keymap" title="此标题的永久链接"></a></h3>
<p>You can specify a new map (layout) for the keyboard with <code class="docutils literal notranslate"><span class="pre">lv_keyboard_set_map(kb,</span> <span class="pre">map)</span></code> and <code class="docutils literal notranslate"><span class="pre">lv_keyboard_set_ctrl_map(kb,</span> <span class="pre">ctrl_map)</span></code>.
Learn more about the <a class="reference internal" href="../core/btnmatrix.html"><span class="doc std std-doc">Button matrix</span></a> object.
Keep in mind that using following keywords will have the same effect as with the original map:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">LV_SYMBOL_OK</span></code> Apply.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">LV_SYMBOL_CLOSE</span></code> or <code class="docutils literal notranslate"><span class="pre">LV_SYMBOL_KEYBOARD</span></code> Close.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">LV_SYMBOL_BACKSPACE</span></code> Delete on the left.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">LV_SYMBOL_LEFT</span></code> Move the cursor left.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">LV_SYMBOL_RIGHT</span></code> Move the cursor right.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">LV_SYMBOL_NEW_LINE</span></code> New line.</p></li>
<li><p><em>&quot;ABC&quot;</em> Load the uppercase map.</p></li>
<li><p><em>&quot;abc&quot;</em> Load the lower case map.</p></li>
<li><p><em>&quot;1#&quot;</em> Load the lower case map.</p></li>
</ul>
</section>
</section>
<section id="events">
<h2>Events<a class="headerlink" href="#events" title="此标题的永久链接"></a></h2>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">LV_EVENT_VALUE_CHANGED</span></code> Sent when the button is pressed/released or repeated after long press. The event data is set to the ID of the pressed/released button.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">LV_EVENT_READY</span></code> - The <em>Ok</em> button is clicked.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">LV_EVENT_CANCEL</span></code> - The <em>Close</em> button is clicked.</p></li>
</ul>
<p>The keyboard has a <strong>default event handler</strong> callback called <code class="docutils literal notranslate"><span class="pre">lv_keyboard_def_event_cb</span></code>, which handles the button pressing, map changing, the assigned text area, etc. You can remove it and replace it with a custom event handler if you wish.</p>
<div class="highlight-eval_rst notranslate"><div class="highlight"><pre><span></span>.. note::
   In 8.0 and newer, adding an event handler to the keyboard does not remove the default event handler.
   This behavior differs from v7, where adding an event handler would always replace the previous one.
</pre></div>
</div>
<p>Learn more about <a class="reference internal" href="../../overview/event.html"><span class="doc std std-doc">Events</span></a>.</p>
</section>
<section id="keys">
<h2>Keys<a class="headerlink" href="#keys" title="此标题的永久链接"></a></h2>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">LV_KEY_RIGHT/UP/LEFT/RIGHT</span></code> To navigate among the buttons and select one.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">LV_KEY_ENTER</span></code> To press/release the selected button.</p></li>
</ul>
<p>Learn more about <a class="reference internal" href="../../overview/indev.html"><span class="doc std std-doc">Keys</span></a>.</p>
</section>
<section id="examples">
<h2>Examples<a class="headerlink" href="#examples" title="此标题的永久链接"></a></h2>
<div class="highlight-eval_rst notranslate"><div class="highlight"><pre><span></span>
.. include:: ../../../examples/widgets/keyboard/index.rst

</pre></div>
</div>
</section>
<section id="api">
<h2>API<a class="headerlink" href="#api" title="此标题的永久链接"></a></h2>
<div class="highlight-eval_rst notranslate"><div class="highlight"><pre><span></span>
.. doxygenfile:: lv_keyboard.h
  :project: lvgl

</pre></div>
</div>
</section>
</section>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; 版权所有 2021, LVGL Kft.
      <span class="lastupdated">最后更新于 2025 年 09 月 02 日.
      </span></p>
  </div>

  利用 <a href="https://www.sphinx-doc.org/">Sphinx</a> 构建，使用的 
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">主题</a>
    由 <a href="https://readthedocs.org">Read the Docs</a> 开发.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

<style>
  .wy-side-nav-search > div[role="search"] {
    color: black;
  }
</style>
 <script type="text/javascript">
    $(document).ready(function() {
        $(".toggle > *").hide();
        $(".toggle .header").show();
        $(".toggle .header").click(function() {
            $(this).parent().children().not(".header").toggle(400);
            $(this).parent().children(".header").toggleClass("open");
        })
    });
</script>

<script type="text/javascript">
function add_version_selector()
{
    return fetch("https://raw.githubusercontent.com/lvgl/docs_compiled/gh-pages/versionlist.txt")
        .then(res => res.text())
        .then(text => {
            const versions = text.split("\n").filter(version => version.trim().length > 0);
            let p = document.getElementById("rtd-search-form").parentElement;
            p.innerHTML = `
            <select name="versions" id="versions" onchange="ver_sel()" style="border-radius:5px; margin-bottom:15px">
            ${versions.map(version => {
                let versionName = "";  
                if(version == "master") versionName = "master (latest)";
                else versionName = "v" + ((version.indexOf(".") != -1) ? version : (version + " (latest minor)"));
                return `<option value="${version}">${versionName}</option>`;
            })}
            </select>` + p.innerHTML;
        });
}

function ver_sel()
{
  var x = document.getElementById("versions").value;
  window.location.href = window.location.protocol + "//" + window.location.host + "/" + x + "/";
}

document.addEventListener('DOMContentLoaded', (event) => {
    add_version_selector().then(() => {
        var value = window.location.pathname.split('/')[1];
        document.getElementById("versions").value = value;
    });
    
})
document.addEventListener('DOMContentLoaded', (event) => {
    function onIntersection(entries) {
        entries.forEach(entry => {
            let currentlyLoaded = entry.target.getAttribute("data-is-loaded") == "true";
            let shouldBeLoaded = entry.intersectionRatio > 0;
            if(currentlyLoaded != shouldBeLoaded) {
                entry.target.setAttribute("data-is-loaded", shouldBeLoaded);
                if(shouldBeLoaded) {
                    let iframe = document.createElement("iframe");
                    iframe.src = entry.target.getAttribute("data-real-src");
                    entry.target.appendChild(iframe);
                } else {
                    let iframe = entry.target.querySelector("iframe");
                    iframe.parentNode.removeChild(iframe);
                }
            }
        });
    }
    const config = {
        rootMargin: '600px 0px',
        threshold: 0.01
    };
    let observer = new IntersectionObserver(onIntersection, config);
    document.querySelectorAll(".lv-example").forEach(iframe => {
        observer.observe(iframe);
    });
});
</script>


</body>
</html>